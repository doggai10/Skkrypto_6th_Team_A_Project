{"ast":null,"code":"var _jsxFileName = \"/Users/heeje/Desktop/Projcet_A/Front_End/react-dapp/client/src/Routes/SignUp/SignUpContainer.js\";\nimport React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nimport \"antd/dist/antd.css\";\nimport { Modal } from \"antd\";\nconst Container = styled.div`\n    display: flex;\n`;\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\nconst Priv = styled.div``;\n\nconst SignUpContainer = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setCofirm] = useState(\"\");\n  const [key, setKeyring] = useState(null);\n  const [privKey, setPriv] = useState(\"\");\n  const [visible, setVisible] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setVisible(true);\n    const SignData = {\n      name,\n      email,\n      password,\n      key\n    };\n    console.log(SignData); // window.prompt(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n    // alert(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n\n    try {\n      const res = await axios.post(\"/sign-up\", SignData);\n      alert(`저장 성공!\\n당신의 개인키는 ${privKey} 입니다.`);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getKeyring = async () => {\n    const keyring = await cav.wallet.keyring.generate();\n    setKeyring(keyring.address);\n    console.log(keyring.key.privateKey);\n    setPriv(keyring.key.privateKey);\n  };\n\n  const doesPasswordMatch = () => {\n    return password === confirm;\n  };\n\n  const renderFeedbackMessage = () => {\n    if (confirm) {\n      if (!doesPasswordMatch()) {\n        return /*#__PURE__*/React.createElement(Error, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 24\n          }\n        }, \"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\");\n      }\n    }\n  };\n\n  const handleName = e => {\n    setName(e.target.value);\n  };\n\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPassword = e => {\n    setCofirm(e.target.value);\n  };\n\n  const handleOk = () => {\n    setVisible(false);\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignUpPresenter, {\n    name: name,\n    email: email,\n    password: password,\n    cofirm: confirm,\n    handleName: handleName,\n    handleEmail: handleEmail,\n    handlePassword: handlePassword,\n    handleConfirmPassword: handleConfirmPassword,\n    handleSubmit: handleSubmit,\n    renderFeedbackMessage: renderFeedbackMessage,\n    doesPasswordMatch: doesPasswordMatch,\n    getKeyring: getKeyring,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    title: \"\\uC800\\uC7A5 \\uC131\\uACF5!\",\n    visible: visible,\n    onOk: handleOk,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Priv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"\\uADC0\\uD558\\uC758 \\uAC1C\\uC778\\uD0A4\\uB294\", privKey, \" \\uC785\\uB2C8\\uB2E4.\")));\n};\n\nexport default SignUpContainer;","map":{"version":3,"sources":["/Users/heeje/Desktop/Projcet_A/Front_End/react-dapp/client/src/Routes/SignUp/SignUpContainer.js"],"names":["React","useState","SignUpPresenter","axios","useHistory","styled","cav","signatureData","Modal","Container","div","Error","Priv","SignUpContainer","name","setName","email","setEmail","password","setPassword","confirm","setCofirm","key","setKeyring","privKey","setPriv","visible","setVisible","history","handleSubmit","e","preventDefault","SignData","console","log","res","post","alert","getKeyring","keyring","wallet","generate","address","privateKey","doesPasswordMatch","renderFeedbackMessage","handleName","target","value","handleEmail","handlePassword","handleConfirmPassword","handleOk","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,GAAT,QAAoB,aAApB;AACA,SAASC,aAAT,QAA8B,2DAA9B;AACA,OAAO,oBAAP;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,MAAMC,SAAS,GAAGJ,MAAM,CAACK,GAAI;AAC7B;AACA,CAFA;AAIA,MAAMC,KAAK,GAAGN,MAAM,CAACK,GAAI;AACzB;AACA;AACA,CAHA;AAKA,MAAME,IAAI,GAAGP,MAAM,CAACK,GAAI,EAAxB;;AAEA,MAAMG,eAAe,GAAG,MAAM;AAC1B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,OAAD,EAAUC,SAAV,IAAuBpB,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACqB,GAAD,EAAMC,UAAN,IAAoBtB,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACuB,OAAD,EAAUC,OAAV,IAAqBxB,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM2B,OAAO,GAAGxB,UAAU,EAA1B;;AAEA,QAAMyB,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAJ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMK,QAAQ,GAAG;AAAElB,MAAAA,IAAF;AAAQE,MAAAA,KAAR;AAAeE,MAAAA,QAAf;AAAyBI,MAAAA;AAAzB,KAAjB;AACAW,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAJ8B,CAK9B;AACA;;AACA,QAAI;AACA,YAAMG,GAAG,GAAG,MAAMhC,KAAK,CAACiC,IAAN,CAAW,UAAX,EAAuBJ,QAAvB,CAAlB;AACAK,MAAAA,KAAK,CAAE,oBAAmBb,OAAQ,OAA7B,CAAL;AACH,KAHD,CAGE,OAAOM,CAAP,EAAU;AACRG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,CAAZ;AACH;AACJ,GAbD;;AAeA,QAAMQ,UAAU,GAAG,YAAY;AAC3B,UAAMC,OAAO,GAAG,MAAMjC,GAAG,CAACkC,MAAJ,CAAWD,OAAX,CAAmBE,QAAnB,EAAtB;AACAlB,IAAAA,UAAU,CAACgB,OAAO,CAACG,OAAT,CAAV;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYK,OAAO,CAACjB,GAAR,CAAYqB,UAAxB;AACAlB,IAAAA,OAAO,CAACc,OAAO,CAACjB,GAAR,CAAYqB,UAAb,CAAP;AACH,GALD;;AAMA,QAAMC,iBAAiB,GAAG,MAAM;AAC5B,WAAO1B,QAAQ,KAAKE,OAApB;AACH,GAFD;;AAGA,QAAMyB,qBAAqB,GAAG,MAAM;AAChC,QAAIzB,OAAJ,EAAa;AACT,UAAI,CAACwB,iBAAiB,EAAtB,EAA0B;AACtB,4BAAO,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+FAAP;AACH;AACJ;AACJ,GAND;;AAOA,QAAME,UAAU,GAAIhB,CAAD,IAAO;AACtBf,IAAAA,OAAO,CAACe,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAP;AACH,GAFD;;AAGA,QAAMC,WAAW,GAAInB,CAAD,IAAO;AACvBb,IAAAA,QAAQ,CAACa,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAR;AACH,GAFD;;AAIA,QAAME,cAAc,GAAIpB,CAAD,IAAO;AAC1BX,IAAAA,WAAW,CAACW,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAX;AACH,GAFD;;AAIA,QAAMG,qBAAqB,GAAIrB,CAAD,IAAO;AACjCT,IAAAA,SAAS,CAACS,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAT;AACH,GAFD;;AAIA,QAAMI,QAAQ,GAAG,MAAM;AACnBzB,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAC,IAAAA,OAAO,CAACyB,IAAR,CAAa,GAAb;AACH,GAHD;;AAKA,sBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AACI,IAAA,IAAI,EAAEvC,IADV;AAEI,IAAA,KAAK,EAAEE,KAFX;AAGI,IAAA,QAAQ,EAAEE,QAHd;AAII,IAAA,MAAM,EAAEE,OAJZ;AAKI,IAAA,UAAU,EAAE0B,UALhB;AAMI,IAAA,WAAW,EAAEG,WANjB;AAOI,IAAA,cAAc,EAAEC,cAPpB;AAQI,IAAA,qBAAqB,EAAEC,qBAR3B;AASI,IAAA,YAAY,EAAEtB,YATlB;AAUI,IAAA,qBAAqB,EAAEgB,qBAV3B;AAWI,IAAA,iBAAiB,EAAED,iBAXvB;AAYI,IAAA,UAAU,EAAEN,UAZhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAeI,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,4BAAb;AAAsB,IAAA,OAAO,EAAEZ,OAA/B;AAAwC,IAAA,IAAI,EAAE0B,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAAe5B,OAAf,yBADJ,CAfJ,CADJ;AAqBH,CAnFD;;AAqFA,eAAeX,eAAf","sourcesContent":["import React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nimport \"antd/dist/antd.css\";\nimport { Modal } from \"antd\";\nconst Container = styled.div`\n    display: flex;\n`;\n\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\n\nconst Priv = styled.div``;\n\nconst SignUpContainer = () => {\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirm, setCofirm] = useState(\"\");\n    const [key, setKeyring] = useState(null);\n    const [privKey, setPriv] = useState(\"\");\n    const [visible, setVisible] = useState(false);\n\n    const history = useHistory();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setVisible(true);\n        const SignData = { name, email, password, key };\n        console.log(SignData);\n        // window.prompt(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n        // alert(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n        try {\n            const res = await axios.post(\"/sign-up\", SignData);\n            alert(`저장 성공!\\n당신의 개인키는 ${privKey} 입니다.`);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const getKeyring = async () => {\n        const keyring = await cav.wallet.keyring.generate();\n        setKeyring(keyring.address);\n        console.log(keyring.key.privateKey);\n        setPriv(keyring.key.privateKey);\n    };\n    const doesPasswordMatch = () => {\n        return password === confirm;\n    };\n    const renderFeedbackMessage = () => {\n        if (confirm) {\n            if (!doesPasswordMatch()) {\n                return <Error>패스워드가 일치하지 않습니다.</Error>;\n            }\n        }\n    };\n    const handleName = (e) => {\n        setName(e.target.value);\n    };\n    const handleEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleConfirmPassword = (e) => {\n        setCofirm(e.target.value);\n    };\n\n    const handleOk = () => {\n        setVisible(false);\n        history.push(\"/\");\n    };\n\n    return (\n        <Container>\n            <SignUpPresenter\n                name={name}\n                email={email}\n                password={password}\n                cofirm={confirm}\n                handleName={handleName}\n                handleEmail={handleEmail}\n                handlePassword={handlePassword}\n                handleConfirmPassword={handleConfirmPassword}\n                handleSubmit={handleSubmit}\n                renderFeedbackMessage={renderFeedbackMessage}\n                doesPasswordMatch={doesPasswordMatch}\n                getKeyring={getKeyring}\n            ></SignUpPresenter>\n            <Modal title=\"저장 성공!\" visible={visible} onOk={handleOk}>\n                <Priv>귀하의 개인키는{privKey} 입니다.</Priv>\n            </Modal>\n        </Container>\n    );\n};\n\nexport default SignUpContainer;\n"]},"metadata":{},"sourceType":"module"}