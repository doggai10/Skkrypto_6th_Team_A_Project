{"ast":null,"code":"var _jsxFileName = \"/Users/heeje/Desktop/Projcet_A/Front_End/react-dapp/client/src/Routes/SignUp/SignUpContainer.js\";\nimport React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nconst Container = styled.div`\n    display: flex;\n`;\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\n\nconst SignUpContainer = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setCofirm] = useState(\"\");\n  const [key, setKeyring] = useState(null);\n  const [privKey, setPriv] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const SignData = {\n      name,\n      email,\n      password,\n      key\n    };\n    console.log(SignData);\n    alert(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n\n    try {\n      const res = await axios.post(\"/sign-up\", SignData);\n      alert(`저장 성공!\\n당신의 개인키는 ${privKey} 입니다.`);\n    } catch (e) {\n      console.log(e);\n    }\n\n    history.push(\"/\");\n  };\n\n  const getKeyring = async () => {\n    const keyring = await cav.wallet.keyring.generate();\n    setKeyring(keyring.address);\n    console.log(keyring.key.privateKey);\n    setPriv(keyring.key.privateKey);\n  };\n\n  const doesPasswordMatch = () => {\n    return password === confirm;\n  };\n\n  const renderFeedbackMessage = () => {\n    if (confirm) {\n      if (!doesPasswordMatch()) {\n        return /*#__PURE__*/React.createElement(Error, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 24\n          }\n        }, \"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\");\n      }\n    }\n  };\n\n  const handleName = e => {\n    setName(e.target.value);\n  };\n\n  const handleEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const handlePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const handleConfirmPassword = e => {\n    setCofirm(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignUpPresenter, {\n    name: name,\n    email: email,\n    password: password,\n    cofirm: confirm,\n    handleName: handleName,\n    handleEmail: handleEmail,\n    handlePassword: handlePassword,\n    handleConfirmPassword: handleConfirmPassword,\n    handleSubmit: handleSubmit,\n    renderFeedbackMessage: renderFeedbackMessage,\n    doesPasswordMatch: doesPasswordMatch,\n    getKeyring: getKeyring,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default SignUpContainer;","map":{"version":3,"sources":["/Users/heeje/Desktop/Projcet_A/Front_End/react-dapp/client/src/Routes/SignUp/SignUpContainer.js"],"names":["React","useState","SignUpPresenter","axios","useHistory","styled","cav","signatureData","Container","div","Error","SignUpContainer","name","setName","email","setEmail","password","setPassword","confirm","setCofirm","key","setKeyring","privKey","setPriv","history","handleSubmit","e","preventDefault","SignData","console","log","alert","res","post","push","getKeyring","keyring","wallet","generate","address","privateKey","doesPasswordMatch","renderFeedbackMessage","handleName","target","value","handleEmail","handlePassword","handleConfirmPassword"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\n\nconst Container = styled.div`\n    display: flex;\n`;\n\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\nconst SignUpContainer = () => {\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirm, setCofirm] = useState(\"\");\n    const [key, setKeyring] = useState(null);\n    const [privKey, setPriv] = useState(null);\n\n    const history = useHistory();\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const SignData = { name, email, password, key };\n        console.log(SignData);\n        alert(`저장 성공!\\n 당신의 개인키는 ${privKey} 입니다.`);\n        try {\n            const res = await axios.post(\"/sign-up\", SignData);\n            alert(`저장 성공!\\n당신의 개인키는 ${privKey} 입니다.`);\n        } catch (e) {\n            console.log(e);\n        }\n        history.push(\"/\");\n    };\n\n    const getKeyring = async () => {\n        const keyring = await cav.wallet.keyring.generate();\n        setKeyring(keyring.address);\n        console.log(keyring.key.privateKey);\n        setPriv(keyring.key.privateKey);\n    };\n    const doesPasswordMatch = () => {\n        return password === confirm;\n    };\n    const renderFeedbackMessage = () => {\n        if (confirm) {\n            if (!doesPasswordMatch()) {\n                return <Error>패스워드가 일치하지 않습니다.</Error>;\n            }\n        }\n    };\n    const handleName = (e) => {\n        setName(e.target.value);\n    };\n    const handleEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleConfirmPassword = (e) => {\n        setCofirm(e.target.value);\n    };\n\n    return (\n        <Container>\n            <SignUpPresenter\n                name={name}\n                email={email}\n                password={password}\n                cofirm={confirm}\n                handleName={handleName}\n                handleEmail={handleEmail}\n                handlePassword={handlePassword}\n                handleConfirmPassword={handleConfirmPassword}\n                handleSubmit={handleSubmit}\n                renderFeedbackMessage={renderFeedbackMessage}\n                doesPasswordMatch={doesPasswordMatch}\n                getKeyring={getKeyring}\n            ></SignUpPresenter>\n        </Container>\n    );\n};\n\nexport default SignUpContainer;\n"]},"metadata":{},"sourceType":"module"}