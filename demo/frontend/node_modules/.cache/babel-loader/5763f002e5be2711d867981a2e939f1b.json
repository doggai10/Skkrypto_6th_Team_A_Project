{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kimdoheon/IdeaProjects/skkrypto/Back_End/demo/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kimdoheon/IdeaProjects/skkrypto/Back_End/demo/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kimdoheon/IdeaProjects/skkrypto/Back_End/demo/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/kimdoheon/IdeaProjects/skkrypto/Back_End/demo/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n    font-size: 25px;\\n    \\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    color: red;\\n    opacity: 0.7;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    display: flex;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import SignUpPresenter from\"./SignUpPresenter\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import styled from\"styled-components\";import{cav}from\"Caver/caver\";import{signatureData}from\"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";import\"antd/dist/antd.css\";import{Modal}from\"antd\";var Container=styled.div(_templateObject());var Error=styled.div(_templateObject2());var Priv=styled.div(_templateObject3());var SignUpContainer=function SignUpContainer(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirm=_useState8[0],setCofirm=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),key=_useState10[0],setKeyring=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),privKey=_useState12[0],setPriv=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),visible=_useState14[0],setVisible=_useState14[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var SignData,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setVisible(true);SignData={name:name,email:email,password:password,key:key};console.log(SignData);_context.prev=4;_context.next=7;return axios.post(\"/sign-up\",SignData);case 7:res=_context.sent;_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[4,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var getKeyring=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var keyring;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return cav.wallet.keyring.generate();case 2:keyring=_context2.sent;setKeyring(keyring.address);console.log(keyring.key.privateKey);setPriv(keyring.key.privateKey);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getKeyring(){return _ref2.apply(this,arguments);};}();var doesPasswordMatch=function doesPasswordMatch(){return password===confirm;};var renderFeedbackMessage=function renderFeedbackMessage(){if(confirm){if(!doesPasswordMatch()){return React.createElement(Error,null,\"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\");}}};var handleName=function handleName(e){setName(e.target.value);};var handleEmail=function handleEmail(e){setEmail(e.target.value);};var handlePassword=function handlePassword(e){setPassword(e.target.value);};var handleConfirmPassword=function handleConfirmPassword(e){setCofirm(e.target.value);};var handleOk=function handleOk(){setVisible(false);history.push(\"/\");};return React.createElement(Container,null,React.createElement(SignUpPresenter,{name:name,email:email,password:password,cofirm:confirm,handleName:handleName,handleEmail:handleEmail,handlePassword:handlePassword,handleConfirmPassword:handleConfirmPassword,handleSubmit:handleSubmit,renderFeedbackMessage:renderFeedbackMessage,doesPasswordMatch:doesPasswordMatch,getKeyring:getKeyring}),React.createElement(Modal,{title:\"\\uC800\\uC7A5 \\uC131\\uACF5!\",visible:visible,onOk:handleOk},React.createElement(Priv,null,\"\\uADC0\\uD558\\uC758 \\uAC1C\\uC778\\uD0A4\\uB294\",privKey,\" \\uC785\\uB2C8\\uB2E4.\")));};export default SignUpContainer;","map":{"version":3,"sources":["/Users/kimdoheon/IdeaProjects/skkrypto/Back_End/demo/frontend/src/Routes/SignUp/SignUpContainer.js"],"names":["React","useState","SignUpPresenter","axios","useHistory","styled","cav","signatureData","Modal","Container","div","Error","Priv","SignUpContainer","name","setName","email","setEmail","password","setPassword","confirm","setCofirm","key","setKeyring","privKey","setPriv","visible","setVisible","history","handleSubmit","e","preventDefault","SignData","console","log","post","res","getKeyring","wallet","keyring","generate","address","privateKey","doesPasswordMatch","renderFeedbackMessage","handleName","target","value","handleEmail","handlePassword","handleConfirmPassword","handleOk","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport SignUpPresenter from \"./SignUpPresenter\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { cav } from \"Caver/caver\";\nimport { signatureData } from \"caver-js/packages/caver-wallet/src/keyring/keyringFactory\";\nimport \"antd/dist/antd.css\";\nimport { Modal } from \"antd\";\nconst Container = styled.div`\n    display: flex;\n`;\n\nconst Error = styled.div`\n    color: red;\n    opacity: 0.7;\n`;\n\nconst Priv = styled.div`\n    font-size: 25px;\n    \n`;\n\nconst SignUpContainer = () => {\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirm, setCofirm] = useState(\"\");\n    const [key, setKeyring] = useState(null);\n    const [privKey, setPriv] = useState(\"\");\n    const [visible, setVisible] = useState(false);\n\n    const history = useHistory();\n    \n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setVisible(true);\n        const SignData = { name, email, password, key };\n        console.log(SignData);\n\n        try {\n            const res = await axios.post(\"/sign-up\", SignData);\n        } catch (e) {\n            console.log(e);\n        }\n    };\n\n    const getKeyring = async () => {\n        const keyring = await cav.wallet.keyring.generate();\n        setKeyring(keyring.address);\n        console.log(keyring.key.privateKey);\n        setPriv(keyring.key.privateKey);\n    };\n    const doesPasswordMatch = () => {\n        return password === confirm;\n    };\n    const renderFeedbackMessage = () => {\n        if (confirm) {\n            if (!doesPasswordMatch()) {\n                return <Error>패스워드가 일치하지 않습니다.</Error>;\n            }\n        }\n    };\n    const handleName = (e) => {\n        setName(e.target.value);\n    };\n    const handleEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleConfirmPassword = (e) => {\n        setCofirm(e.target.value);\n    };\n\n    const handleOk = () => {\n        setVisible(false);\n        history.push(\"/\");\n    };\n\n    return (\n        <Container>\n            <SignUpPresenter\n                name={name}\n                email={email}\n                password={password}\n                cofirm={confirm}\n                handleName={handleName}\n                handleEmail={handleEmail}\n                handlePassword={handlePassword}\n                handleConfirmPassword={handleConfirmPassword}\n                handleSubmit={handleSubmit}\n                renderFeedbackMessage={renderFeedbackMessage}\n                doesPasswordMatch={doesPasswordMatch}\n                getKeyring={getKeyring}\n            ></SignUpPresenter>\n            <Modal title=\"저장 성공!\" visible={visible} onOk={handleOk}>\n                <Priv>귀하의 개인키는{privKey} 입니다.</Priv>\n            </Modal>\n        </Container>\n    );\n};\n\nexport default SignUpContainer;\n"]},"metadata":{},"sourceType":"module"}